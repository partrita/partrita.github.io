<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Basically, all about my interest but something useful.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Biohacker (old posts, page 13) | Biohacker</title>
<link href="assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/baguetteBox.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="assets/css/code.css" rel="stylesheet" type="text/css">
<link href="assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="assets/css/custom.css" rel="stylesheet" type="text/css">
<link href="assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="https://partrita.github.io/index-13.html">
<link rel="prev" href="index-14.html" type="text/html">
<link rel="next" href="index-12.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]--><link rel="stylesheet" type="text/css" href="assets/css/tipuesearch.css">
<link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet">
<meta name="naver-site-verification" content="d38b92eb0fc0075616e5ff8008f707087bfee65e">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-111815051-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-111815051-1');
</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NHHK2BF');</script>
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-dark bg-dark
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href="https://partrita.github.io/">

            <span id="blog-title">Biohacker</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="pages/about/" class="nav-link">About</a>
                </li>
<li class="nav-item">
<a href="pages/resume/index.html" class="nav-link">Resume</a>
                </li>
<li class="nav-item">
<a href="archive.html" class="nav-link">Archive</a>
                </li>
<li class="nav-item">
<a href="categories/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="http://partrita.iptime.org" class="nav-link">Biohack</a>
                </li>
<li class="nav-item">
<a href="rss.xml" class="nav-link">RSS feed</a>

                
            </li>
</ul>
<span class="navbar-form navbar-right">
<input type="text" id="tipue_search_input" class="form-control" placeholder="Search"></span>

            <ul class="navbar-nav navbar-right"></ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        

    


    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/ML-by-Keras/" class="u-url">당뇨병 예측하기</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Taeyoon Kim
            </span></p>
            <p class="dateline">
            <a href="posts/ML-by-Keras/" rel="bookmark">
            <time class="published dt-published" datetime="2018-01-21T18:07:20+09:00" itemprop="datePublished" title="2018-01-21 18:07">2018-01-21 18:07</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="https://www.reddit.com/r/Python/comments/7rppky/learn_how_to_create_a_neural_network_that/">Reddit</a> 에서 흥미로운 글을 봤어요. 인공신경망을 이용해서 당뇨를 예측하는 튜토리얼이었죠. <strong>파이썬</strong>을 이용해서 <strong>15줄</strong>의 코드가 전부였습니다.</p>
<h2 id="0.-기계학습이라고?">0. 기계학습이라고?<a class="anchor-link" href="posts/ML-by-Keras/#0.-%EA%B8%B0%EA%B3%84%ED%95%99%EC%8A%B5%EC%9D%B4%EB%9D%BC%EA%B3%A0?">¶</a>
</h2>
<p>2016년도 이세돌을 이겼던 <strong>AlphaGO</strong>를 기억하시나요? AlphaGO라는 인공지능을 바로 기계학습으로 만들었습니다.</p>
<blockquote>
<p>기계 학습 또는 머신 러닝(영어: machine learning)은 인공 지능의 한 분야로, 컴퓨터가 학습할 수 있도록 하는 알고리즘과 기술을 개발하는 분야를 말한다. 가령, 기계 학습을 통해서 수신한 이메일이 스팸인지 아닌지를 구분할 수 있도록 훈련할 수 있다.    - wikipedia</p>
</blockquote>
<p>모든 경우의 수를 사람이 코딩할 필요가 없이 최소한의 것만 해주면, 인공 지능이 알아서 한다. 그것이 기계학습의 매력이죠. 기계학습에도 여러 종류가 있습니다. 우리가 이번에 사용할 것은 인공 신경망이라는 것입니다.</p>
<h3 id="인공신경망">인공신경망<a class="anchor-link" href="posts/ML-by-Keras/#%EC%9D%B8%EA%B3%B5%EC%8B%A0%EA%B2%BD%EB%A7%9D">¶</a>
</h3>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Colored_neural_network.svg/300px-Colored_neural_network.svg.png" alt=""></p>
<blockquote>
<p>인공신경망(artificial neural network, ANN)은 기계학습과 인지과학에서 생물학의 신경망(동물의 중추신경계중 특히 뇌)에서 영감을 얻은 통계학적 학습 알고리즘이다. - wikipedia</p>
</blockquote>
<p>어떻게 인공신경망을 만드냐고요? 파이썬에는 이미 기계학습에 사용되는 프레임워크(예를 들면 <em>TensorFlow</em>)가 존재해서, 우리는 그냥 쓰기만 하면되요!</p>
<h2 id="1.-Keras를-사용할-거에요.">1. Keras를 사용할 거에요.<a class="anchor-link" href="posts/ML-by-Keras/#1.-Keras%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%A0-%EA%B1%B0%EC%97%90%EC%9A%94.">¶</a>
</h2>
<p><img src="https://s3.amazonaws.com/keras.io/img/keras-logo-2018-large-1200.png" alt="keras"></p>
<blockquote>
<p>Keras is a high-level neural networks API, written in Python and capable of running on top of TensorFlow, CNTK, or Theano. It was developed with a focus on enabling fast experimentation.</p>
</blockquote>
<p>Keras는 다음과 같은 특징이 있습니다.</p>
<ul>
<li>쉽게 그리고 빠르게 코딩이 가능</li>
<li>CPU 와 GPU 자원을 문제없이 사용</li>
<li>파이썬 2.7 - 3.6을 지원</li>
</ul>
<p>자세한 내용은 <a href="posts/ML-by-Keras/Keras.io.">공식 사이트</a>를 방문하세요.</p>
<h2 id="데이터-세트-설명">데이터 세트 설명<a class="anchor-link" href="posts/ML-by-Keras/#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%84%B8%ED%8A%B8-%EC%84%A4%EB%AA%85">¶</a>
</h2>
<p>사용한 데이터 세트는 <strong>Pima Indians Diabetes Data Set</strong> 입니다. 출처는 <a href="http://rexa.info/paper/04587c10a7c92baa01948f71f2513d5928fe8e81">링크</a>를 확인하세요.</p>
<p>미국 원주민 중 <em>Pima</em> 족은 원래는 당뇨병의 유병율이 적었는데, 서구식 식습관에 의해 급속도로 당뇨병에 걸렸습니다. 그래서 당뇨병을 연구하는데 귀중한 데이터로 사용되고 있습니다.</p>
<p>데이터 세트는 <strong>CSV</strong> 포멧이고 총 <strong>9가지</strong>의 속성으로 구성되어 있습니다.</p>
<ol>
<li>임신횟수</li>
<li>글루코스 내성(glucose tolerance)실험 후의 혈당수치 </li>
<li>확장기 혈압(mm Hg)</li>
<li>상완 삼두근 피부 두께 (mm)</li>
<li>혈액내 인슐린 수치 (mu U/ml)</li>
<li>BMI(비만도) 수치 (weight in kg/(height in m)^2)</li>
<li>당뇨병 가족력: 계산식은 데이터세트의 출처에서 확인하세요.</li>
<li>나이 (years)</li>
<li>당뇨병 여부 (0 or 1; 1은 발병)</li>
</ol>
<h3 id="출처">출처<a class="anchor-link" href="posts/ML-by-Keras/#%EC%B6%9C%EC%B2%98">¶</a>
</h3>
<p>원작자의 코드를 확인하고 싶다면 다음 <a href="https://github.com/jg-fisher/diabetesNeuralNetwork">링크</a>를 확인하세요.</p>
<h2 id="2.-이제-실습을-해봅시다.">2. 이제 실습을 해봅시다.<a class="anchor-link" href="posts/ML-by-Keras/#2.-%EC%9D%B4%EC%A0%9C-%EC%8B%A4%EC%8A%B5%EC%9D%84-%ED%95%B4%EB%B4%85%EC%8B%9C%EB%8B%A4.">¶</a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 필요한 모듈을 불러들입니다.</span>
<span class="kn">from</span> <span class="nn">keras.models</span> <span class="kn">import</span> <span class="n">Sequential</span>
<span class="kn">from</span> <span class="nn">keras.layers</span> <span class="kn">import</span> <span class="n">Dense</span>
<span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">from</span> <span class="nn">urllib</span> <span class="kn">import</span> <span class="n">request</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline 

<span class="c1"># 데이터 세트의 URL을 설정</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">"http://archive.ics.uci.edu/ml/machine-learning-databases/pima-indians-diabetes/pima-indians-diabetes.data"</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="c1"># random seed for reproducibility</span>
<span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># 데이터 세트를 불러옵니다. </span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s2">","</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>Using TensorFlow backend.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>이걸로 데이터 세트는 준비가 되었습니다.</p>
<h3 id="모델-만들기">모델 만들기<a class="anchor-link" href="posts/ML-by-Keras/#%EB%AA%A8%EB%8D%B8-%EB%A7%8C%EB%93%A4%EA%B8%B0">¶</a>
</h3>
<p>다음으로 <strong>Keras</strong>를 이용해 간단한 모델을 만들고, 800번의 학습(epochs)을 해보겠습니다.
800번 정도 실행시키면 시간이 좀 걸립니다. 기다려 주세요.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 데이터세트를 두 가지 원인(X) 과 결과(Y)로 나누어 줍니다. </span>
<span class="n">X</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">[:,</span><span class="mi">0</span><span class="p">:</span><span class="mi">8</span><span class="p">]</span>
<span class="n">Y</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">[:,</span><span class="mi">8</span><span class="p">]</span>

<span class="c1"># create model, add dense layers one by one specifying activation function</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">Sequential</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Dense</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="n">input_dim</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">'relu'</span><span class="p">))</span> <span class="c1"># input layer requires input_dim param</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Dense</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">'relu'</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Dense</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">'relu'</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Dense</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">'relu'</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Dense</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">'sigmoid'</span><span class="p">))</span> <span class="c1"># sigmoid instead of relu for final probability between 0 and 1</span>

<span class="c1"># compile the model, adam gradient descent (optimized)</span>
<span class="n">model</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">loss</span><span class="o">=</span><span class="s2">"binary_crossentropy"</span><span class="p">,</span> <span class="n">optimizer</span><span class="o">=</span><span class="s2">"adam"</span><span class="p">,</span> <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="s1">'accuracy'</span><span class="p">])</span>

<span class="c1"># call the function to fit to the data (training the network)</span>
<span class="c1"># verbose=0 는 프로그래스를 숨깁니다.</span>
<span class="n">history</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">epochs</span> <span class="o">=</span> <span class="mi">800</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># 모델의 정확도를 계산합니다.</span>
<span class="n">scores</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="si">%s</span><span class="s2">: </span><span class="si">%.2f%%</span><span class="s2">"</span> <span class="o">%</span> <span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">metrics_names</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">scores</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>768/768 [==============================] - 0s 80us/step

acc: 87.89%
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>우리의 모델이 학습결과 <strong>87.89%</strong> 라는 정확도를 가지게 되었습니다.</p>
<h2 id="2.-시각화하기">2. 시각화하기<a class="anchor-link" href="posts/ML-by-Keras/#2.-%EC%8B%9C%EA%B0%81%ED%99%94%ED%95%98%EA%B8%B0">¶</a>
</h2>
<p>이제 다 끝났습니다. 다음으로는 <strong>Keras</strong>가 학습을 반복할 때마다 정확도가 얼마나 올라가는지 시각화를 해보겠습니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Get the figure and the axes</span>
<span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax0</span><span class="p">,</span> <span class="n">ax1</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="c1"># 모델의 정확도를 그립니다.</span>
<span class="n">ax0</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">history</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="s1">'acc'</span><span class="p">])</span> 
<span class="n">ax0</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'model accuracy'</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">'epoch'</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">'accuracy'</span><span class="p">)</span>

<span class="c1"># 모델의 오차를 그립니다.</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">history</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="s1">'loss'</span><span class="p">])</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'model loss'</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">'epoch'</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">'loss'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[3]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>[Text(0,0.5,'loss'), Text(0.5,0,'epoch'), Text(0.5,1,'model loss')]</pre>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>




<div class="output_png output_subarea ">
<img src="data:image/png;base64,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">
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>결과를 보니, 한 800번 정도 학습하면 꽤 정확한 모델을 얻을 수 있네요.</p>
<h2 id="3.-마치며,">3. 마치며,<a class="anchor-link" href="posts/ML-by-Keras/#3.-%EB%A7%88%EC%B9%98%EB%A9%B0,">¶</a>
</h2>
<p>모델을 만들었다면, 이제 모델을 유용하게 사용할 시간입니다. 가상의 환자 데이터를 만들어 그 환자가 당뇨에 걸릴 확률을 알아보겠습니다.</p>
<p><code>patient_1</code> 는</p>
<ol>
<li>임신한 적 없음</li>
<li>글루코스 내성(glucose tolerance)실험 후의 혈당수치는 137 </li>
<li>확장기 혈압은 90(mm Hg)</li>
<li>상완 삼두근 피부 두께는 35(mm)</li>
<li>혈액내 인슐린 수치는 168 (mu U/ml)</li>
<li>BMI(비만도) 수치는 43.1</li>
<li>당뇨병 가족력은 2.288 </li>
<li>나이 (years)는 33살</li>
</ol>
<p>이라고 가정합니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 가상의 환자 데이터 입력</span>
<span class="n">patient_1</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">137</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">168</span><span class="p">,</span><span class="mf">43.1</span><span class="p">,</span><span class="mf">2.288</span><span class="p">,</span><span class="mi">33</span><span class="p">]])</span>

<span class="c1"># 모델로 예측하기</span>
<span class="n">prediction</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">patient_1</span><span class="p">)</span>

<span class="c1"># 예측결과 출력하기</span>
<span class="nb">print</span><span class="p">(</span><span class="n">prediction</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>[[30.039745]]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>우리의 모델에 따르면, <code>patient_1</code>는 당뇨병에 걸릴 확률이 약 <strong>30%</strong> 입니다.</p>

</div>
</div>
</div>
    </div>
  </div>

    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/tidy-data/" class="u-url">깔끔한 데이터(Tidy data)</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Taeyoon Kim
            </span></p>
            <p class="dateline">
            <a href="posts/tidy-data/" rel="bookmark">
            <time class="published dt-published" datetime="2018-01-19T08:21:32+09:00" itemprop="datePublished" title="2018-01-19 08:21">2018-01-19 08:21</time></a>
            </p>
        </div>
    </header><div class="e-content entry-content">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="깔끔한-데이터(Tidy-data)란?">깔끔한 데이터(Tidy data)란?<a class="anchor-link" href="posts/tidy-data/#%EA%B9%94%EB%81%94%ED%95%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0(Tidy-data)%EB%9E%80?">¶</a>
</h2>
<blockquote>
<p>우리는 데이터 분석을 수행하면서 다양한 데이터 변환 작업을 수행하게 된다. 이는 데이터가 원래 특정 분석을 염두에 두고 만들어지는 경우가 거의 없기 때문이며, 사실 애초 데이터 설계를 할 때 분석 목적을 알기도 불가능하다는 게 가장 큰 원인이 아닐까 한다. 이런 연유로 전체 데이터 분석 작업에서 70% 혹은 80% 이상이 이런 데이터 변환 및 전처리 작업에서 소모된다. <a href="http://freesearch.pe.kr/archives/3942">1</a></p>
</blockquote>
<p>다른 사람들과 데이터(예를 들면 엑셀파일)를 주고 받다 보면 깨닫게 됩니다. 모든 사람의 생각은 다르다는 것을요.
사람마다 (좋게 말하면) 각양각색으로 정리를 하다보니, 여러명이 작성한 엑셀 파일을 하나의 파일로 합치려 보면 결국에는 누군가가 새로 정리를 해야 하는 상황이 됩니다.</p>
<p>Tidy data의 개념은 그런 상황을 방지하기 위해 <strong>Jeff Leek</strong>이 
만들었습니다. 데이터 처리에 가장 많은 시간이 소요되는 전처리 과정을 줄여 보자, 그러기 위해 처음부터 데이터를 표준화해서 만들자는 것입니다. 처음부터 기본적인 규칙을 가지고 데이터를 만들면, 모두의 시간을 아낄 수 있으니까요.</p>
<p>위키피디아에 따르면 Tidy data의 정의는 다음와 같습니다. "밑바닥 부터 시작할 필요 없는 데이터"</p>
<blockquote>
<p>Tidy data there’s no need to start from scratch. -from wiki</p>
</blockquote>
<h3 id="더-알아-보기">더 알아 보기<a class="anchor-link" href="posts/tidy-data/#%EB%8D%94-%EC%95%8C%EC%95%84-%EB%B3%B4%EA%B8%B0">¶</a>
</h3>
<ul>
<li>2014년도에 출판된 <a href="http://vita.had.co.nz/papers/tidy-data.pdf">논문</a> 입니다.</li>
<li>데이터의 출처는 <a href="https://github.com/nickhould/tidy-data-python">이곳</a> 입니다. </li>
</ul>
<h3 id="깔끔한-데이터(Tidy-data)의-특징">깔끔한 데이터(Tidy data)의 특징<a class="anchor-link" href="posts/tidy-data/#%EA%B9%94%EB%81%94%ED%95%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0(Tidy-data)%EC%9D%98-%ED%8A%B9%EC%A7%95">¶</a>
</h3>
<p><strong>Jeff Leek</strong>가 쓴 책 <strong>The Elements of Data Analytic Style</strong>에서 정의한 깔끔한 데이터는 아래와 같은 특징을 가집니다.</p>
<ol>
<li>각 변수는 개별의 열(column)으로 존재한다.</li>
<li>각 관측치는 행(row)를 구성한다.</li>
<li>각 표는 단 하나의 관측기준에 의해서 조직된 데이터를 저장한다.</li>
<li>만약 여러개의 표가 존재한다면, 적어도 하나이상의 열(column)이 공유되어야 한다.</li>
</ol>
<ul>
<li>변수(Variable): 예를 들면 <em>키, 몸무게, 성별</em>
</li>
<li>값(Value): 예를 들자면 <em>152 cm, 80 kg, 여성</em>
</li>
<li>관측치(Observation): 값을 측정한 단위, 여기서는 <em>각각의 사람</em>
</li>
</ul>
<p>너무 복잡하다고 생각되신다면 아래 예시를 확인하세요.</p>
<h4 id="지저분한-데이터의-예:">지저분한 데이터의 예:<a class="anchor-link" href="posts/tidy-data/#%EC%A7%80%EC%A0%80%EB%B6%84%ED%95%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%9D%98-%EC%98%88:">¶</a>
</h4>
<div>

<table border="1" class="dataframe">
<thead><tr style="text-align: left;">
<th></th>

<th>Treatment A</th>

<th>Treatment B</th>

</tr></thead>
<tbody>
<tr>
<th>John Smith</th>

<td>-</td>

<td>2</td>

</tr>
<tr>
<th>Jane Doe</th>

<td>16</td>

<td>11</td>

</tr>
<tr>
<th>Mary Johnson</th>

<td>3</td>

<td>1</td>

</tr>
</tbody>
</table>
</div>
<h4 id="깔끔한-데이터(Tidy-data)의-예:">깔끔한 데이터(Tidy data)의 예:<a class="anchor-link" href="posts/tidy-data/#%EA%B9%94%EB%81%94%ED%95%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0(Tidy-data)%EC%9D%98-%EC%98%88:">¶</a>
</h4>
<div>

<table border="1" class="dataframe">
<thead><tr style="text-align: left;">
<th>Name</th>

<th>Treatment</th>

<th>Result</th>

</tr></thead>
<tbody>
<tr>
<th>John Smith</th>

<td>a</td>

<td>-</td>

</tr>
<tr>
<th>Jane Doe</th>

<td>a</td>

<td>16</td>

</tr>
<tr>
<th>Mary Johnson</th>

<td>a</td>

<td>3</td>

</tr>
<tr>
<th>John Smith</th>

<td>b</td>

<td>2</td>

</tr>
<tr>
<th>Jane Doe</th>

<td>b</td>

<td>11</td>

</tr>
<tr>
<th>Mary Johnson</th>

<td>b</td>

<td>1</td>

</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="지저분한-데이터-처리하기">지저분한 데이터 처리하기<a class="anchor-link" href="posts/tidy-data/#%EC%A7%80%EC%A0%80%EB%B6%84%ED%95%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0">¶</a>
</h2>
<p><strong>Wickham</strong>의 <a href="http://vita.had.co.nz/papers/tidy-data.pdf">논문</a>에 있던 데이터를 가지고 아래의 문제를 해결해 보도록 하겠습니다. 
여기서 우리의 목표는 데이터 분석이 아니고 깔끔한 데이터를 만드는 것임을 명심하세요.</p>
<p>지저분한 데이터의 일반적인 모습은 다음과 같습니다.</p>
<ol>
<li>열 이름(Column header)이 변수 이름이 아니고 값인 경우</li>
<li>같은 표에 다양한 관측 단위(observational units)가 있는 경우</li>
<li>하나의 열(column)에 여러 값이 들어 있는 경우</li>
<li>변수가 행과 열에 모두 포함되어 있는 경우 </li>
<li>하나의 관측 단위(observational units)가 여러 파일로 나누어져 있는 경우</li>
</ol>
<blockquote>
<p>우리는 <code>Python</code>의 대표적인 라이브러리인 <code>Pandas</code>를 사용하도록 할게요.</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 필요한 라이브러리 불러들이기</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">listdir</span>
<span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">isfile</span><span class="p">,</span> <span class="n">join</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">re</span> <span class="c1"># 정규식</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="1.-열-이름(Column-header)이-변수-이름이-아니고-값인-경우">1. 열 이름(Column header)이 변수 이름이 아니고 값인 경우<a class="anchor-link" href="posts/tidy-data/#1.-%EC%97%B4-%EC%9D%B4%EB%A6%84(Column-header)%EC%9D%B4-%EB%B3%80%EC%88%98-%EC%9D%B4%EB%A6%84%EC%9D%B4-%EC%95%84%EB%8B%88%EA%B3%A0-%EA%B0%92%EC%9D%B8-%EA%B2%BD%EC%9A%B0">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Pew-Research-Center-Dataset">Pew Research Center Dataset<a class="anchor-link" href="posts/tidy-data/#Pew-Research-Center-Dataset">¶</a>
</h4>
<p>종교에 따른 개인의 수입의 관한 데이터입니다. 먼저 <code>pandas</code>의 <code>read_csv</code>기능을 사용해 파일을 읽어옵니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"./data/pew-raw.csv"</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[7]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th></th>
      <th>religion</th>
      <th>&lt;$10k</th>
      <th>$10-20k</th>
      <th>$20-30k</th>
      <th>$30-40k</th>
      <th>$40-50k</th>
      <th>$50-75k</th>
    </tr></thead>
<tbody>
<tr>
<th>0</th>
      <td>Agnostic</td>
      <td>27</td>
      <td>34</td>
      <td>60</td>
      <td>81</td>
      <td>76</td>
      <td>137</td>
    </tr>
<tr>
<th>1</th>
      <td>Atheist</td>
      <td>12</td>
      <td>27</td>
      <td>37</td>
      <td>52</td>
      <td>35</td>
      <td>70</td>
    </tr>
<tr>
<th>2</th>
      <td>Buddhist</td>
      <td>27</td>
      <td>21</td>
      <td>30</td>
      <td>34</td>
      <td>33</td>
      <td>58</td>
    </tr>
<tr>
<th>3</th>
      <td>Catholic</td>
      <td>418</td>
      <td>617</td>
      <td>732</td>
      <td>670</td>
      <td>638</td>
      <td>1116</td>
    </tr>
<tr>
<th>4</th>
      <td>Dont know/refused</td>
      <td>15</td>
      <td>14</td>
      <td>15</td>
      <td>11</td>
      <td>10</td>
      <td>35</td>
    </tr>
<tr>
<th>5</th>
      <td>Evangelical Prot</td>
      <td>575</td>
      <td>869</td>
      <td>1064</td>
      <td>982</td>
      <td>881</td>
      <td>1486</td>
    </tr>
<tr>
<th>6</th>
      <td>Hindu</td>
      <td>1</td>
      <td>9</td>
      <td>7</td>
      <td>9</td>
      <td>11</td>
      <td>34</td>
    </tr>
<tr>
<th>7</th>
      <td>Historically Black Prot</td>
      <td>228</td>
      <td>244</td>
      <td>236</td>
      <td>238</td>
      <td>197</td>
      <td>223</td>
    </tr>
<tr>
<th>8</th>
      <td>Jehovahs Witness</td>
      <td>20</td>
      <td>27</td>
      <td>24</td>
      <td>24</td>
      <td>21</td>
      <td>30</td>
    </tr>
<tr>
<th>9</th>
      <td>Jewish</td>
      <td>19</td>
      <td>19</td>
      <td>25</td>
      <td>25</td>
      <td>30</td>
      <td>95</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Evangelical Prot는 기독교 종파중에 하나로 '개신교'입니다.</li>
</ul>
<p><strong>문제점</strong>: 이 데이터들의 문제는 열 이름(columns headers)이 개인소득의 범위로 되어 있다는 것이죠.</p>
<blockquote>
<p>다시 말해서 보기에는 좋아보일지는 몰라도 분석하기에는 어려운 형식입니다.</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>이러한 데이터를 Tidy data 형태로 변환하기 위해서 <code>pandas</code>라이브러리에서는 아주 쉬운 기능을 제공해 줍니다.
바로 <code>melt</code>라는 기능이지요. <strong>pivot table</strong>의 반대되는 개념으로 행이 많은 데이터를 열이 많은 데이터로 바꿔줍니다. 
<code>melt</code>는 아주 유용하기 때문에 앞으로도 자주 언급 됩니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">formatted_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">df</span><span class="p">,[</span><span class="s2">"religion"</span><span class="p">],</span> <span class="n">var_name</span><span class="o">=</span><span class="s2">"income"</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s2">"freq"</span><span class="p">)</span>
<span class="n">formatted_df</span> <span class="o">=</span> <span class="n">formatted_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">"religion"</span><span class="p">])</span> <span class="c1"># 종교 이름순으로 정렬</span>
<span class="n">formatted_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># 너무 길기 때문에 윗쪽 10개만 보겠습니다.</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[8]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th></th>
      <th>religion</th>
      <th>income</th>
      <th>freq</th>
    </tr></thead>
<tbody>
<tr>
<th>0</th>
      <td>Agnostic</td>
      <td>&lt;$10k</td>
      <td>27</td>
    </tr>
<tr>
<th>30</th>
      <td>Agnostic</td>
      <td>$30-40k</td>
      <td>81</td>
    </tr>
<tr>
<th>40</th>
      <td>Agnostic</td>
      <td>$40-50k</td>
      <td>76</td>
    </tr>
<tr>
<th>50</th>
      <td>Agnostic</td>
      <td>$50-75k</td>
      <td>137</td>
    </tr>
<tr>
<th>10</th>
      <td>Agnostic</td>
      <td>$10-20k</td>
      <td>34</td>
    </tr>
<tr>
<th>20</th>
      <td>Agnostic</td>
      <td>$20-30k</td>
      <td>60</td>
    </tr>
<tr>
<th>41</th>
      <td>Atheist</td>
      <td>$40-50k</td>
      <td>35</td>
    </tr>
<tr>
<th>21</th>
      <td>Atheist</td>
      <td>$20-30k</td>
      <td>37</td>
    </tr>
<tr>
<th>11</th>
      <td>Atheist</td>
      <td>$10-20k</td>
      <td>27</td>
    </tr>
<tr>
<th>31</th>
      <td>Atheist</td>
      <td>$30-40k</td>
      <td>52</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>이것이 <em>Pew Research Center Dataset</em> 의 Tidy data 형태 입니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Billboard-Top-100-Dataset">Billboard Top 100 Dataset<a class="anchor-link" href="posts/tidy-data/#Billboard-Top-100-Dataset">¶</a>
</h4>
<p>이 데이터는 아주 오래전 같은 1999년부터 2000년까지의 빌보드차트 주간 순위 변동을 포함하고 있는 데이터 입니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [69]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"./data/billboard.csv"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"mac_latin2"</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[69]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th></th>
      <th>year</th>
      <th>artist.inverted</th>
      <th>track</th>
      <th>time</th>
      <th>genre</th>
      <th>date.entered</th>
      <th>date.peaked</th>
      <th>x1st.week</th>
      <th>x2nd.week</th>
      <th>x3rd.week</th>
      <th>...</th>
      <th>x67th.week</th>
      <th>x68th.week</th>
      <th>x69th.week</th>
      <th>x70th.week</th>
      <th>x71st.week</th>
      <th>x72nd.week</th>
      <th>x73rd.week</th>
      <th>x74th.week</th>
      <th>x75th.week</th>
      <th>x76th.week</th>
    </tr></thead>
<tbody>
<tr>
<th>0</th>
      <td>2000</td>
      <td>Destiny's Child</td>
      <td>Independent Women Part I</td>
      <td>3:38</td>
      <td>Rock</td>
      <td>2000-09-23</td>
      <td>2000-11-18</td>
      <td>78</td>
      <td>63.0</td>
      <td>49.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
<tr>
<th>1</th>
      <td>2000</td>
      <td>Santana</td>
      <td>Maria, Maria</td>
      <td>4:18</td>
      <td>Rock</td>
      <td>2000-02-12</td>
      <td>2000-04-08</td>
      <td>15</td>
      <td>8.0</td>
      <td>6.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
<tr>
<th>2</th>
      <td>2000</td>
      <td>Savage Garden</td>
      <td>I Knew I Loved You</td>
      <td>4:07</td>
      <td>Rock</td>
      <td>1999-10-23</td>
      <td>2000-01-29</td>
      <td>71</td>
      <td>48.0</td>
      <td>43.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
<tr>
<th>3</th>
      <td>2000</td>
      <td>Madonna</td>
      <td>Music</td>
      <td>3:45</td>
      <td>Rock</td>
      <td>2000-08-12</td>
      <td>2000-09-16</td>
      <td>41</td>
      <td>23.0</td>
      <td>18.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
<tr>
<th>4</th>
      <td>2000</td>
      <td>Aguilera, Christina</td>
      <td>Come On Over Baby (All I Want Is You)</td>
      <td>3:38</td>
      <td>Rock</td>
      <td>2000-08-05</td>
      <td>2000-10-14</td>
      <td>57</td>
      <td>47.0</td>
      <td>45.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
<tr>
<th>5</th>
      <td>2000</td>
      <td>Janet</td>
      <td>Doesn't Really Matter</td>
      <td>4:17</td>
      <td>Rock</td>
      <td>2000-06-17</td>
      <td>2000-08-26</td>
      <td>59</td>
      <td>52.0</td>
      <td>43.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
<tr>
<th>6</th>
      <td>2000</td>
      <td>Destiny's Child</td>
      <td>Say My Name</td>
      <td>4:31</td>
      <td>Rock</td>
      <td>1999-12-25</td>
      <td>2000-03-18</td>
      <td>83</td>
      <td>83.0</td>
      <td>44.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
<tr>
<th>7</th>
      <td>2000</td>
      <td>Iglesias, Enrique</td>
      <td>Be With You</td>
      <td>3:36</td>
      <td>Latin</td>
      <td>2000-04-01</td>
      <td>2000-06-24</td>
      <td>63</td>
      <td>45.0</td>
      <td>34.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
<tr>
<th>8</th>
      <td>2000</td>
      <td>Sisqo</td>
      <td>Incomplete</td>
      <td>3:52</td>
      <td>Rock</td>
      <td>2000-06-24</td>
      <td>2000-08-12</td>
      <td>77</td>
      <td>66.0</td>
      <td>61.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
<tr>
<th>9</th>
      <td>2000</td>
      <td>Lonestar</td>
      <td>Amazed</td>
      <td>4:25</td>
      <td>Country</td>
      <td>1999-06-05</td>
      <td>2000-03-04</td>
      <td>81</td>
      <td>54.0</td>
      <td>44.0</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
</tbody>
</table>
<p>10 rows × 83 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>문제점:</strong></p>
<ul>
<li>열 이름(columns headers)이 값으로 구성되어 있다: <code>x1st.week</code>, <code>x2st.week</code> 등등</li>
<li>순위가 100위권 밖으로 밀려나게 되면 <code>Nan</code> 값을 가지고, 따라서 필요없는 부수적인 값이 많아진다.</li>
</ul>
<p>위 데이터의 깔끔한 데이터를 만들기 위해서는 다시 <code>melt</code> 기능을 사용하겠습니다. 각각의 열이 행이 되도록 하고, 순위가 100위 밖으로 밀려난 경우(<code>Nan</code>값을 갖는경우)에는 행을 삭제할게요.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [70]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Melting</span>
<span class="n">id_vars</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"year"</span><span class="p">,</span><span class="s2">"artist.inverted"</span><span class="p">,</span><span class="s2">"track"</span><span class="p">,</span><span class="s2">"time"</span><span class="p">,</span><span class="s2">"genre"</span><span class="p">,</span><span class="s2">"date.entered"</span><span class="p">,</span><span class="s2">"date.peaked"</span><span class="p">]</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">frame</span><span class="o">=</span><span class="n">df</span><span class="p">,</span><span class="n">id_vars</span><span class="o">=</span><span class="n">id_vars</span><span class="p">,</span> <span class="n">var_name</span><span class="o">=</span><span class="s2">"week"</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s2">"rank"</span><span class="p">)</span>

<span class="c1"># Formatting </span>
<span class="n">df</span><span class="p">[</span><span class="s2">"week"</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">'week'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">'(\d+)'</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="c1"># 정규식으로 x1st.week 에서 숫자 1만 추출</span>
<span class="n">df</span><span class="p">[</span><span class="s2">"rank"</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"rank"</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>

<span class="c1"># 필요없는 행을 삭제합니다.</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>

<span class="c1"># Create "date" columns</span>
<span class="n">df</span><span class="p">[</span><span class="s1">'date'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'date.entered'</span><span class="p">])</span> <span class="o">+</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_timedelta</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">'week'</span><span class="p">],</span> <span class="n">unit</span><span class="o">=</span><span class="s1">'w'</span><span class="p">)</span> <span class="o">-</span> <span class="n">pd</span><span class="o">.</span><span class="n">DateOffset</span><span class="p">(</span><span class="n">weeks</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s2">"year"</span><span class="p">,</span> <span class="s2">"artist.inverted"</span><span class="p">,</span> <span class="s2">"track"</span><span class="p">,</span> <span class="s2">"time"</span><span class="p">,</span> <span class="s2">"genre"</span><span class="p">,</span> <span class="s2">"week"</span><span class="p">,</span> <span class="s2">"rank"</span><span class="p">,</span> <span class="s2">"date"</span><span class="p">]]</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">"year"</span><span class="p">,</span><span class="s2">"artist.inverted"</span><span class="p">,</span><span class="s2">"track"</span><span class="p">,</span><span class="s2">"week"</span><span class="p">,</span><span class="s2">"rank"</span><span class="p">])</span>

<span class="c1"># Assigning the tidy dataset to a variable for future usage</span>
<span class="n">billboard</span> <span class="o">=</span> <span class="n">df</span>

<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[70]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th></th>
      <th>year</th>
      <th>artist.inverted</th>
      <th>track</th>
      <th>time</th>
      <th>genre</th>
      <th>week</th>
      <th>rank</th>
      <th>date</th>
    </tr></thead>
<tbody>
<tr>
<th>246</th>
      <td>2000</td>
      <td>2 Pac</td>
      <td>Baby Don't Cry (Keep Ya Head Up II)</td>
      <td>4:22</td>
      <td>Rap</td>
      <td>1</td>
      <td>87</td>
      <td>2000-02-26</td>
    </tr>
<tr>
<th>563</th>
      <td>2000</td>
      <td>2 Pac</td>
      <td>Baby Don't Cry (Keep Ya Head Up II)</td>
      <td>4:22</td>
      <td>Rap</td>
      <td>2</td>
      <td>82</td>
      <td>2000-03-04</td>
    </tr>
<tr>
<th>880</th>
      <td>2000</td>
      <td>2 Pac</td>
      <td>Baby Don't Cry (Keep Ya Head Up II)</td>
      <td>4:22</td>
      <td>Rap</td>
      <td>3</td>
      <td>72</td>
      <td>2000-03-11</td>
    </tr>
<tr>
<th>1197</th>
      <td>2000</td>
      <td>2 Pac</td>
      <td>Baby Don't Cry (Keep Ya Head Up II)</td>
      <td>4:22</td>
      <td>Rap</td>
      <td>4</td>
      <td>77</td>
      <td>2000-03-18</td>
    </tr>
<tr>
<th>1514</th>
      <td>2000</td>
      <td>2 Pac</td>
      <td>Baby Don't Cry (Keep Ya Head Up II)</td>
      <td>4:22</td>
      <td>Rap</td>
      <td>5</td>
      <td>87</td>
      <td>2000-03-25</td>
    </tr>
<tr>
<th>1831</th>
      <td>2000</td>
      <td>2 Pac</td>
      <td>Baby Don't Cry (Keep Ya Head Up II)</td>
      <td>4:22</td>
      <td>Rap</td>
      <td>6</td>
      <td>94</td>
      <td>2000-04-01</td>
    </tr>
<tr>
<th>2148</th>
      <td>2000</td>
      <td>2 Pac</td>
      <td>Baby Don't Cry (Keep Ya Head Up II)</td>
      <td>4:22</td>
      <td>Rap</td>
      <td>7</td>
      <td>99</td>
      <td>2000-04-08</td>
    </tr>
<tr>
<th>287</th>
      <td>2000</td>
      <td>2Ge+her</td>
      <td>The Hardest Part Of Breaking Up (Is Getting Ba...</td>
      <td>3:15</td>
      <td>R&amp;B</td>
      <td>1</td>
      <td>91</td>
      <td>2000-09-02</td>
    </tr>
<tr>
<th>604</th>
      <td>2000</td>
      <td>2Ge+her</td>
      <td>The Hardest Part Of Breaking Up (Is Getting Ba...</td>
      <td>3:15</td>
      <td>R&amp;B</td>
      <td>2</td>
      <td>87</td>
      <td>2000-09-09</td>
    </tr>
<tr>
<th>921</th>
      <td>2000</td>
      <td>2Ge+her</td>
      <td>The Hardest Part Of Breaking Up (Is Getting Ba...</td>
      <td>3:15</td>
      <td>R&amp;B</td>
      <td>3</td>
      <td>92</td>
      <td>2000-09-16</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>위와 같이 데이터를 깔끔하게 만들었습니다. 하지만 <em>track, time, genre</em> 열을 보시면 아주 많은 중복이 있는 것을 알 수 있습니다. 이러한 점을 해결 하는 방법은 다음 예제에서 다루어 보겠습니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="2.-하나의-표에-여러가지-타입">2. 하나의 표에 여러가지 타입<a class="anchor-link" href="posts/tidy-data/#2.-%ED%95%98%EB%82%98%EC%9D%98-%ED%91%9C%EC%97%90-%EC%97%AC%EB%9F%AC%EA%B0%80%EC%A7%80-%ED%83%80%EC%9E%85">¶</a>
</h3>
<p>위에서 다루었던 빌보드차트 데이터를 가지고 데이터가 반복되는 문제를 해결해 보겠습니다.</p>
<p><strong>묹제점:</strong></p>
<ul>
<li>다양한 관측 단위(observational units), 여기서는 <code>song</code> 과 <code>rank</code>가 하나의 표에 들어 있습니다. 이를 위해서는 표를 나눌 필요가 있습니다.  </li>
</ul>
<p>먼저, 각각의 노래의 자세한 내용을 담고 있는 표를 만들어 보겠습니다. 그런다음 각각의 <code>song_id</code>를 부여합니다. 그런다음 순위 값을 가지고 있는 표를 <code>song_id</code>로 정리합니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">songs_cols</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"year"</span><span class="p">,</span> <span class="s2">"artist.inverted"</span><span class="p">,</span> <span class="s2">"track"</span><span class="p">,</span> <span class="s2">"time"</span><span class="p">,</span> <span class="s2">"genre"</span><span class="p">]</span>
<span class="n">songs</span> <span class="o">=</span> <span class="n">billboard</span><span class="p">[</span><span class="n">songs_cols</span><span class="p">]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>
<span class="n">songs</span> <span class="o">=</span> <span class="n">songs</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">songs</span><span class="p">[</span><span class="s2">"song_id"</span><span class="p">]</span> <span class="o">=</span> <span class="n">songs</span><span class="o">.</span><span class="n">index</span>
<span class="n">songs</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[11]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th></th>
      <th>year</th>
      <th>artist.inverted</th>
      <th>track</th>
      <th>time</th>
      <th>genre</th>
      <th>song_id</th>
    </tr></thead>
<tbody>
<tr>
<th>0</th>
      <td>2000</td>
      <td>2 Pac</td>
      <td>Baby Don't Cry (Keep Ya Head Up II)</td>
      <td>4:22</td>
      <td>Rap</td>
      <td>0</td>
    </tr>
<tr>
<th>1</th>
      <td>2000</td>
      <td>2Ge+her</td>
      <td>The Hardest Part Of Breaking Up (Is Getting Ba...</td>
      <td>3:15</td>
      <td>R&amp;B</td>
      <td>1</td>
    </tr>
<tr>
<th>2</th>
      <td>2000</td>
      <td>3 Doors Down</td>
      <td>Kryptonite</td>
      <td>3:53</td>
      <td>Rock</td>
      <td>2</td>
    </tr>
<tr>
<th>3</th>
      <td>2000</td>
      <td>3 Doors Down</td>
      <td>Loser</td>
      <td>4:24</td>
      <td>Rock</td>
      <td>3</td>
    </tr>
<tr>
<th>4</th>
      <td>2000</td>
      <td>504 Boyz</td>
      <td>Wobble Wobble</td>
      <td>3:35</td>
      <td>Rap</td>
      <td>4</td>
    </tr>
<tr>
<th>5</th>
      <td>2000</td>
      <td>98°</td>
      <td>Give Me Just One Night (Una Noche)</td>
      <td>3:24</td>
      <td>Rock</td>
      <td>5</td>
    </tr>
<tr>
<th>6</th>
      <td>2000</td>
      <td>A*Teens</td>
      <td>Dancing Queen</td>
      <td>3:44</td>
      <td>Pop</td>
      <td>6</td>
    </tr>
<tr>
<th>7</th>
      <td>2000</td>
      <td>Aaliyah</td>
      <td>I Don't Wanna</td>
      <td>4:15</td>
      <td>Rock</td>
      <td>7</td>
    </tr>
<tr>
<th>8</th>
      <td>2000</td>
      <td>Aaliyah</td>
      <td>Try Again</td>
      <td>4:03</td>
      <td>Rock</td>
      <td>8</td>
    </tr>
<tr>
<th>9</th>
      <td>2000</td>
      <td>Adams, Yolanda</td>
      <td>Open My Heart</td>
      <td>5:30</td>
      <td>Gospel</td>
      <td>9</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>위 와같은 새로운 표를 분리하고, 아래와 같이 순위를 포함하고 있는 표를 새로 만들어줍니다.</p>
<blockquote>
<p>두개의 표를 연결하기 위해 <code>song_id</code>열을 만드는 것을 주의하세요</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ranks</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">billboard</span><span class="p">,</span> <span class="n">songs</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">"year"</span><span class="p">,</span><span class="s2">"artist.inverted"</span><span class="p">,</span> <span class="s2">"track"</span><span class="p">,</span> <span class="s2">"time"</span><span class="p">,</span> <span class="s2">"genre"</span><span class="p">])</span>
<span class="n">ranks</span> <span class="o">=</span> <span class="n">ranks</span><span class="p">[[</span><span class="s2">"song_id"</span><span class="p">,</span> <span class="s2">"date"</span><span class="p">,</span><span class="s2">"rank"</span><span class="p">]]</span>
<span class="n">ranks</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[12]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th></th>
      <th>song_id</th>
      <th>date</th>
      <th>rank</th>
    </tr></thead>
<tbody>
<tr>
<th>0</th>
      <td>0</td>
      <td>2000-02-26</td>
      <td>87</td>
    </tr>
<tr>
<th>1</th>
      <td>0</td>
      <td>2000-03-04</td>
      <td>82</td>
    </tr>
<tr>
<th>2</th>
      <td>0</td>
      <td>2000-03-11</td>
      <td>72</td>
    </tr>
<tr>
<th>3</th>
      <td>0</td>
      <td>2000-03-18</td>
      <td>77</td>
    </tr>
<tr>
<th>4</th>
      <td>0</td>
      <td>2000-03-25</td>
      <td>87</td>
    </tr>
<tr>
<th>5</th>
      <td>0</td>
      <td>2000-04-01</td>
      <td>94</td>
    </tr>
<tr>
<th>6</th>
      <td>0</td>
      <td>2000-04-08</td>
      <td>99</td>
    </tr>
<tr>
<th>7</th>
      <td>1</td>
      <td>2000-09-02</td>
      <td>91</td>
    </tr>
<tr>
<th>8</th>
      <td>1</td>
      <td>2000-09-09</td>
      <td>87</td>
    </tr>
<tr>
<th>9</th>
      <td>1</td>
      <td>2000-09-16</td>
      <td>92</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="3.-다양한-변수가-하나의-열에-있는-경우-Multiple-variables-stored-in-one-column">3. 다양한 변수가 하나의 열에 있는 경우 Multiple variables stored in one column<a class="anchor-link" href="posts/tidy-data/#3.-%EB%8B%A4%EC%96%91%ED%95%9C-%EB%B3%80%EC%88%98%EA%B0%80-%ED%95%98%EB%82%98%EC%9D%98-%EC%97%B4%EC%97%90-%EC%9E%88%EB%8A%94-%EA%B2%BD%EC%9A%B0-Multiple-variables-stored-in-one-column">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Tubercolosis-Example">Tubercolosis Example<a class="anchor-link" href="posts/tidy-data/#Tubercolosis-Example">¶</a>
</h4>
<p>WHO(World Health Organization)에서 수집한 결핵환자의 기록입니다. 이 데이터에는 확인된 결핵환자의 국가, 연도, 나이, 성별이 포함되어 있습니다.</p>
<p><strong>문제점:</strong></p>
<ul>
<li>몇개의 열(columns)에 다양한 변수가 포함되어 있습니다.(성별과 나이)</li>
<li>값이 존재하지 않는 곳에 <code>NaN</code>과 0 이 혼재되어 있습니다.</li>
</ul>
<p>미리 알아둘 점:</p>
<ul>
<li>열의 이름에 적혀있는 "m"이나 "f"는 성별을 뜻합니다.</li>
<li>열의 이름에 적혀있는 숫자는 나이대("0-14","15-24", "25-34", "45-54", "55-64", "65", "unknown")를 나타냅니다.</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [49]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"./data/tb-raw.csv"</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[49]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th></th>
      <th>country</th>
      <th>year</th>
      <th>m014</th>
      <th>m1524</th>
      <th>m2534</th>
      <th>m3544</th>
      <th>m4554</th>
      <th>m5564</th>
      <th>m65</th>
      <th>mu</th>
      <th>f014</th>
    </tr></thead>
<tbody>
<tr>
<th>0</th>
      <td>AD</td>
      <td>2000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
<tr>
<th>1</th>
      <td>AE</td>
      <td>2000</td>
      <td>2.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>6.0</td>
      <td>5</td>
      <td>12</td>
      <td>10.0</td>
      <td>NaN</td>
      <td>3.0</td>
    </tr>
<tr>
<th>2</th>
      <td>AF</td>
      <td>2000</td>
      <td>52.0</td>
      <td>228.0</td>
      <td>183.0</td>
      <td>149.0</td>
      <td>129</td>
      <td>94</td>
      <td>80.0</td>
      <td>NaN</td>
      <td>93.0</td>
    </tr>
<tr>
<th>3</th>
      <td>AG</td>
      <td>2000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>1.0</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
<tr>
<th>4</th>
      <td>AL</td>
      <td>2000</td>
      <td>2.0</td>
      <td>19.0</td>
      <td>21.0</td>
      <td>14.0</td>
      <td>24</td>
      <td>19</td>
      <td>16.0</td>
      <td>NaN</td>
      <td>3.0</td>
    </tr>
<tr>
<th>5</th>
      <td>AM</td>
      <td>2000</td>
      <td>2.0</td>
      <td>152.0</td>
      <td>130.0</td>
      <td>131.0</td>
      <td>63</td>
      <td>26</td>
      <td>21.0</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
<tr>
<th>6</th>
      <td>AN</td>
      <td>2000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>0</td>
      <td>0</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>0.0</td>
    </tr>
<tr>
<th>7</th>
      <td>AO</td>
      <td>2000</td>
      <td>186.0</td>
      <td>999.0</td>
      <td>1003.0</td>
      <td>912.0</td>
      <td>482</td>
      <td>312</td>
      <td>194.0</td>
      <td>NaN</td>
      <td>247.0</td>
    </tr>
<tr>
<th>8</th>
      <td>AR</td>
      <td>2000</td>
      <td>97.0</td>
      <td>278.0</td>
      <td>594.0</td>
      <td>402.0</td>
      <td>419</td>
      <td>368</td>
      <td>330.0</td>
      <td>NaN</td>
      <td>121.0</td>
    </tr>
<tr>
<th>9</th>
      <td>AS</td>
      <td>2000</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>1</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>이 데이터를 정리하기 위해서는 먼저 <code>melt</code>를 이용해 <code>sex</code> + <code>age group</code> 를 합쳐서 하나의 행으로 만들겠습니다.
그런 다음에 다시 행을 <code>sex</code>, <code>age</code>로 구분해서 정리하도록 하죠.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [50]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">"country"</span><span class="p">,</span><span class="s2">"year"</span><span class="p">],</span> <span class="n">value_name</span><span class="o">=</span><span class="s2">"cases"</span><span class="p">,</span> <span class="n">var_name</span><span class="o">=</span><span class="s2">"sex_and_age"</span><span class="p">)</span>

<span class="c1"># Extract Sex, Age lower bound and Age upper bound group</span>
<span class="n">tmp_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"sex_and_age"</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s2">"(\D)(\d+)(\d</span><span class="si">{2}</span><span class="s2">)"</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>    

<span class="c1"># Name columns</span>
<span class="n">tmp_df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"sex"</span><span class="p">,</span> <span class="s2">"age_lower"</span><span class="p">,</span> <span class="s2">"age_upper"</span><span class="p">]</span>

<span class="c1"># Create `age`column based on `age_lower` and `age_upper`</span>
<span class="n">tmp_df</span><span class="p">[</span><span class="s2">"age"</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp_df</span><span class="p">[</span><span class="s2">"age_lower"</span><span class="p">]</span> <span class="o">+</span> <span class="s2">"-"</span> <span class="o">+</span> <span class="n">tmp_df</span><span class="p">[</span><span class="s2">"age_upper"</span><span class="p">]</span>

<span class="c1"># Merge </span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">tmp_df</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Drop unnecessary columns and rows</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">'sex_and_age'</span><span class="p">,</span><span class="s2">"age_lower"</span><span class="p">,</span><span class="s2">"age_upper"</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">"country"</span><span class="p">,</span> <span class="s2">"year"</span><span class="p">,</span> <span class="s2">"sex"</span><span class="p">,</span> <span class="s2">"age"</span><span class="p">])</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[50]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th></th>
      <th>country</th>
      <th>year</th>
      <th>cases</th>
      <th>sex</th>
      <th>age</th>
    </tr></thead>
<tbody>
<tr>
<th>0</th>
      <td>AD</td>
      <td>2000</td>
      <td>0.0</td>
      <td>m</td>
      <td>0-14</td>
    </tr>
<tr>
<th>10</th>
      <td>AD</td>
      <td>2000</td>
      <td>0.0</td>
      <td>m</td>
      <td>15-24</td>
    </tr>
<tr>
<th>20</th>
      <td>AD</td>
      <td>2000</td>
      <td>1.0</td>
      <td>m</td>
      <td>25-34</td>
    </tr>
<tr>
<th>30</th>
      <td>AD</td>
      <td>2000</td>
      <td>0.0</td>
      <td>m</td>
      <td>35-44</td>
    </tr>
<tr>
<th>40</th>
      <td>AD</td>
      <td>2000</td>
      <td>0.0</td>
      <td>m</td>
      <td>45-54</td>
    </tr>
<tr>
<th>50</th>
      <td>AD</td>
      <td>2000</td>
      <td>0.0</td>
      <td>m</td>
      <td>55-64</td>
    </tr>
<tr>
<th>81</th>
      <td>AE</td>
      <td>2000</td>
      <td>3.0</td>
      <td>f</td>
      <td>0-14</td>
    </tr>
<tr>
<th>1</th>
      <td>AE</td>
      <td>2000</td>
      <td>2.0</td>
      <td>m</td>
      <td>0-14</td>
    </tr>
<tr>
<th>11</th>
      <td>AE</td>
      <td>2000</td>
      <td>4.0</td>
      <td>m</td>
      <td>15-24</td>
    </tr>
<tr>
<th>21</th>
      <td>AE</td>
      <td>2000</td>
      <td>4.0</td>
      <td>m</td>
      <td>25-34</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>이것이 정리된 결과 입니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="4.-변수가-행과-열에(rows-and-columns)-모두-포함되어-있는-경우">4. 변수가 행과 열에(rows and columns) 모두 포함되어 있는 경우<a class="anchor-link" href="posts/tidy-data/#4.-%EB%B3%80%EC%88%98%EA%B0%80-%ED%96%89%EA%B3%BC-%EC%97%B4%EC%97%90(rows-and-columns)-%EB%AA%A8%EB%91%90-%ED%8F%AC%ED%95%A8%EB%90%98%EC%96%B4-%EC%9E%88%EB%8A%94-%EA%B2%BD%EC%9A%B0">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Global-Historical-Climatology-Network-Dataset">Global Historical Climatology Network Dataset<a class="anchor-link" href="posts/tidy-data/#Global-Historical-Climatology-Network-Dataset">¶</a>
</h4>
<p>이것은 2010년도 멕시코 기상청(MX17004)에서 5개월 동안 측정한 기상 데이터입니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">"./data/weather-raw.csv"</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>문제점:</strong></p>
<ul>
<li>변수들이 행(<code>tmin</code>, <code>tmax</code>) 과 열(<code>days</code>)에 존재합니다.</li>
</ul>
<p>깔끔한 데이터를 만들기 위해 <code>melt</code>기능을 사용해 <code>day_raw</code>를 각각의 열로 만들겠습니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">"id"</span><span class="p">,</span> <span class="s2">"year"</span><span class="p">,</span><span class="s2">"month"</span><span class="p">,</span><span class="s2">"element"</span><span class="p">],</span> <span class="n">var_name</span><span class="o">=</span><span class="s2">"day_raw"</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[25]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th></th>
      <th>id</th>
      <th>year</th>
      <th>month</th>
      <th>element</th>
      <th>day_raw</th>
      <th>value</th>
    </tr></thead>
<tbody>
<tr>
<th>0</th>
      <td>MX17004</td>
      <td>2010</td>
      <td>1</td>
      <td>tmax</td>
      <td>d1</td>
      <td>NaN</td>
    </tr>
<tr>
<th>1</th>
      <td>MX17004</td>
      <td>2010</td>
      <td>1</td>
      <td>tmin</td>
      <td>d1</td>
      <td>NaN</td>
    </tr>
<tr>
<th>2</th>
      <td>MX17004</td>
      <td>2010</td>
      <td>2</td>
      <td>tmax</td>
      <td>d1</td>
      <td>NaN</td>
    </tr>
<tr>
<th>3</th>
      <td>MX17004</td>
      <td>2010</td>
      <td>2</td>
      <td>tmin</td>
      <td>d1</td>
      <td>NaN</td>
    </tr>
<tr>
<th>4</th>
      <td>MX17004</td>
      <td>2010</td>
      <td>3</td>
      <td>tmax</td>
      <td>d1</td>
      <td>NaN</td>
    </tr>
<tr>
<th>5</th>
      <td>MX17004</td>
      <td>2010</td>
      <td>3</td>
      <td>tmin</td>
      <td>d1</td>
      <td>NaN</td>
    </tr>
<tr>
<th>6</th>
      <td>MX17004</td>
      <td>2010</td>
      <td>4</td>
      <td>tmax</td>
      <td>d1</td>
      <td>NaN</td>
    </tr>
<tr>
<th>7</th>
      <td>MX17004</td>
      <td>2010</td>
      <td>4</td>
      <td>tmin</td>
      <td>d1</td>
      <td>NaN</td>
    </tr>
<tr>
<th>8</th>
      <td>MX17004</td>
      <td>2010</td>
      <td>5</td>
      <td>tmax</td>
      <td>d1</td>
      <td>NaN</td>
    </tr>
<tr>
<th>9</th>
      <td>MX17004</td>
      <td>2010</td>
      <td>5</td>
      <td>tmin</td>
      <td>d1</td>
      <td>NaN</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>그럼에도 아직 불필요한 것들이 보이는 군요. 좀 더 깔끔한 데이터를 만들기 위해 <code>tmin</code>, <code>tmax</code>를 각각의 열로 만들겠습니다. 그리고 날짜 정보들을 합쳐서 <code>date</code>로 통합하겠습니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [26]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Extracting day</span>
<span class="n">df</span><span class="p">[</span><span class="s2">"day"</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">"day_raw"</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s2">"d(\d+)"</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  
<span class="n">df</span><span class="p">[</span><span class="s2">"id"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"MX17004"</span>

<span class="c1"># To numeric values</span>
<span class="n">df</span><span class="p">[[</span><span class="s2">"year"</span><span class="p">,</span><span class="s2">"month"</span><span class="p">,</span><span class="s2">"day"</span><span class="p">]]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s2">"year"</span><span class="p">,</span><span class="s2">"month"</span><span class="p">,</span><span class="s2">"day"</span><span class="p">]]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">'ignore'</span><span class="p">))</span>

<span class="c1"># Creating a date from the different columns</span>
<span class="k">def</span> <span class="nf">create_date_from_year_month_day</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s2">"year"</span><span class="p">],</span> <span class="n">month</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s2">"month"</span><span class="p">]),</span> <span class="n">day</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s2">"day"</span><span class="p">])</span>

<span class="n">df</span><span class="p">[</span><span class="s2">"date"</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">create_date_from_year_month_day</span><span class="p">(</span><span class="n">row</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">'year'</span><span class="p">,</span><span class="s2">"month"</span><span class="p">,</span><span class="s2">"day"</span><span class="p">,</span> <span class="s2">"day_raw"</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>

<span class="c1"># Unmelting column "element"</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s2">"id"</span><span class="p">,</span><span class="s2">"date"</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="s2">"element"</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s2">"value"</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[26]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th>element</th>
      <th>id</th>
      <th>date</th>
      <th>tmax</th>
      <th>tmin</th>
    </tr></thead>
<tbody>
<tr>
<th>0</th>
      <td>MX17004</td>
      <td>2010-02-02</td>
      <td>27.3</td>
      <td>14.4</td>
    </tr>
<tr>
<th>1</th>
      <td>MX17004</td>
      <td>2010-02-03</td>
      <td>24.1</td>
      <td>14.4</td>
    </tr>
<tr>
<th>2</th>
      <td>MX17004</td>
      <td>2010-03-05</td>
      <td>32.1</td>
      <td>14.2</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>충분히 깔끔한 모양새가 되었습니다.</p>
<h3 id="5.-하나의-관측-단위(observational-units)가-여러-파일로-나누어져-있는-경우">5. 하나의 관측 단위(observational units)가 여러 파일로 나누어져 있는 경우<a class="anchor-link" href="posts/tidy-data/#5.-%ED%95%98%EB%82%98%EC%9D%98-%EA%B4%80%EC%B8%A1-%EB%8B%A8%EC%9C%84(observational-units)%EA%B0%80-%EC%97%AC%EB%9F%AC-%ED%8C%8C%EC%9D%BC%EB%A1%9C-%EB%82%98%EB%88%84%EC%96%B4%EC%A0%B8-%EC%9E%88%EB%8A%94-%EA%B2%BD%EC%9A%B0">¶</a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Baby-Names-in-Illinois">Baby Names in Illinois<a class="anchor-link" href="posts/tidy-data/#Baby-Names-in-Illinois">¶</a>
</h4>
<p>2014, 2015년도 미국 일리노이 주(Illinois)의 신생아의 (남자)이름을 수집한 데이터 입니다.</p>
<p><strong>문제점:</strong></p>
<ul>
<li>여러 표와 파일에 데이터가 흩어져 있다.</li>
<li>연도(Year)”가 파일 이름에 적혀져 있다.</li>
</ul>
<p>서로 다른 파일에 데이터가 흩어져 있어 조금 복잡한 과정이 필요합니다.
먼저 아래의 코드로 파일 리스트를 만들고 거기에서 <em>연도</em> 값을 뽑아냅니다. 그런 다음 각각의 파일에서 표를 만들어내고 마지막으로 <code>concat</code>기능으로 사용해 하나의 표로 합치겠습니다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">extract_year</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">".+(\d</span><span class="si">{4}</span><span class="s2">)"</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span> 
    <span class="k">if</span> <span class="n">match</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span> <span class="k">return</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    
<span class="n">path</span> <span class="o">=</span> <span class="s1">'./data'</span>
<span class="n">allFiles</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">path</span> <span class="o">+</span> <span class="s2">"/201*-baby-names-illinois.csv"</span><span class="p">)</span>
<span class="n">frame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">df_list</span><span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">file_</span> <span class="ow">in</span> <span class="n">allFiles</span><span class="p">:</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_</span><span class="p">,</span><span class="n">index_col</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">str</span><span class="o">.</span><span class="n">lower</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s2">"year"</span><span class="p">]</span> <span class="o">=</span> <span class="n">extract_year</span><span class="p">(</span><span class="n">file_</span><span class="p">)</span>
    <span class="n">df_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
    
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">df_list</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[5]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
<thead><tr style="text-align: right;">
<th></th>
      <th>rank</th>
      <th>name</th>
      <th>frequency</th>
      <th>sex</th>
      <th>year</th>
    </tr></thead>
<tbody>
<tr>
<th>0</th>
      <td>1</td>
      <td>Noah</td>
      <td>837</td>
      <td>Male</td>
      <td>2014</td>
    </tr>
<tr>
<th>1</th>
      <td>2</td>
      <td>Alexander</td>
      <td>747</td>
      <td>Male</td>
      <td>2014</td>
    </tr>
<tr>
<th>2</th>
      <td>3</td>
      <td>William</td>
      <td>687</td>
      <td>Male</td>
      <td>2014</td>
    </tr>
<tr>
<th>3</th>
      <td>4</td>
      <td>Michael</td>
      <td>680</td>
      <td>Male</td>
      <td>2014</td>
    </tr>
<tr>
<th>4</th>
      <td>5</td>
      <td>Liam</td>
      <td>670</td>
      <td>Male</td>
      <td>2014</td>
    </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="마치며">마치며<a class="anchor-link" href="posts/tidy-data/#%EB%A7%88%EC%B9%98%EB%A9%B0">¶</a>
</h3>
<p>이 글에서 가장 중점으로 둔것은 파이썬으로 지저분한 데이터를 깔끔하게 만드는 것이 었습니다. 그걸을 위해 <strong>Wickham</strong>의 논문에서 사용된 데이터를 살펴 보았죠. 깔끔한 데이터(Tidy data)의 최고의 장점은 <strong>시각화</strong>(Visualization)이 쉽다는 것에 있습니다. 그것은 다음에 다루어 보도록 하겠습니다.</p>
<p>앞으로는 <strong>Tidy data</strong>를 고려해서 데이터를 수집하도록 하세요. 모두의 시간은 소중하니까요.</p>

</div>
</div>
</div>
    </div>
  </div>

    </div>
    </article>
</div>

        <ul class="pager postindexpager clearfix">
<li class="previous"><a href="index-14.html" rel="prev">Newer posts</a></li>
            <li class="next"><a href="index-12.html" rel="next">Older posts</a></li>
        </ul>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha384-3lJUsx1TJHt7BA4udB5KPnDrlkO8T6J6v/op7ui0BbCjvZ9WqV4Xm6DTP6kQ/iBH" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
        </script><!--End of body content--><footer id="footer">
            Contents © 2019         <a href="mailto:partrita@gmail.com">Taeyoon Kim</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
            
        </footer>
</div>
</div>


            <script src="assets/js/jquery.min.js"></script><script src="assets/js/popper.min.js"></script><script src="assets/js/bootstrap.min.js"></script><script src="assets/js/baguetteBox.min.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><!-- Modal --><div id="search-results" class="modal fade" role="dialog" style="height: 80%;">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">×</button>
        <h4 class="modal-title">Search Results:</h4>
      </div>
      <div class="modal-body" id="tipue_search_content" style="max-height: 600px; overflow-y: auto;">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<script>
var siteUrl = "https://partrita.github.io/"
$(document).ready(function() {
    $.when(
        $.getScript( siteUrl + "/assets/js/tipuesearch_set.js" ),
        $.getScript( siteUrl + "/assets/js/tipuesearch.js" ),
        $.Deferred(function( deferred ){
            $( deferred.resolve );
        })
    ).done(function() {
        $('#tipue_search_input').tipuesearch({
            'mode': 'json',
            'contentLocation': siteUrl + '/assets/js/tipuesearch_content.json'
        });
        $('#tipue_search_input').keyup(function (e) {
            if (e.keyCode == 13) {
                $('#search-results').modal()
            }
        });
    });
});
</script>
</body>
</html>
